# Mosquitto configuration for b00t agent communication
# Eclipse Mosquitto 2.x

# Network
listener 1883
protocol mqtt

listener 9001
protocol websockets

# Allow anonymous access for local development
# TODO: Add authentication when deploying to production
allow_anonymous true

# Persistence
persistence true
persistence_location /mosquitto/data/

# Logging
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information
log_timestamp true
log_timestamp_format %Y-%m-%dT%H:%M:%S

# Performance
max_inflight_messages 20
max_queued_messages 100

# Agent Coordination Protocol (ACP) topics
# Pattern: account/{username}/acp/{step}/{agent_id}/{message_type}
# Message types: status, propose, step, ack

# Bridge configuration (for future multi-host coordination)
# connection bridge-to-sm3llyd0s
# address sm3llyd0s.local:1883
# topic account/# both 0
